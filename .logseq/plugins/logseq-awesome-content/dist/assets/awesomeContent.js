(function(){const ce=document.createElement("link").relList;if(ce&&ce.supports&&ce.supports("modulepreload"))return;for(const V of document.querySelectorAll('link[rel="modulepreload"]'))Fe(V);new MutationObserver(V=>{for(const je of V)if(je.type==="childList")for(const q of je.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&Fe(q)}).observe(document,{childList:!0,subtree:!0});function we(V){const je={};return V.integrity&&(je.integrity=V.integrity),V.referrerPolicy&&(je.referrerPolicy=V.referrerPolicy),V.crossOrigin==="use-credentials"?je.credentials="include":V.crossOrigin==="anonymous"?je.credentials="omit":je.credentials="same-origin",je}function Fe(V){if(V.ep)return;V.ep=!0;const je=we(V);fetch(V.href,je)}})();var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},on={},hi={get exports(){return on},set exports(re){on=re}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(re,ce){(function(we,Fe){re.exports=Fe()})(self,()=>(()=>{var we={227:(q,p,S)=>{var I=S(155);p.formatArgs=function(M){if(M[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+M[0]+(this.useColors?"%c ":" ")+"+"+q.exports.humanize(this.diff),!this.useColors)return;const Z="color: "+this.color;M.splice(1,0,Z,"color: inherit");let y=0,f=0;M[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(y++,b==="%c"&&(f=y))}),M.splice(f,0,Z)},p.save=function(M){try{M?p.storage.setItem("debug",M):p.storage.removeItem("debug")}catch{}},p.load=function(){let M;try{M=p.storage.getItem("debug")}catch{}return!M&&I!==void 0&&"env"in I&&(M=I.env.DEBUG),M},p.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let M=!1;return()=>{M||(M=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),q.exports=S(447)(p);const{formatters:C}=q.exports;C.j=function(M){try{return JSON.stringify(M)}catch(Z){return"[UnexpectedJSONParseError]: "+Z.message}}},447:(q,p,S)=>{q.exports=function(I){function C(y){let f,b,v,R=null;function L(...D){if(!L.enabled)return;const H=L,j=Number(new Date),F=j-(f||j);H.diff=F,H.prev=f,H.curr=j,f=j,D[0]=C.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let a=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(l,m)=>{if(l==="%%")return"%";a++;const x=C.formatters[m];if(typeof x=="function"){const B=D[a];l=x.call(H,B),D.splice(a,1),a--}return l}),C.formatArgs.call(H,D),(H.log||C.log).apply(H,D)}return L.namespace=y,L.useColors=C.useColors(),L.color=C.selectColor(y),L.extend=M,L.destroy=C.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>R!==null?R:(b!==C.namespaces&&(b=C.namespaces,v=C.enabled(y)),v),set:D=>{R=D}}),typeof C.init=="function"&&C.init(L),L}function M(y,f){const b=C(this.namespace+(f===void 0?":":f)+y);return b.log=this.log,b}function Z(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}return C.debug=C,C.default=C,C.coerce=function(y){return y instanceof Error?y.stack||y.message:y},C.disable=function(){const y=[...C.names.map(Z),...C.skips.map(Z).map(f=>"-"+f)].join(",");return C.enable(""),y},C.enable=function(y){let f;C.save(y),C.namespaces=y,C.names=[],C.skips=[];const b=(typeof y=="string"?y:"").split(/[\s,]+/),v=b.length;for(f=0;f<v;f++)b[f]&&((y=b[f].replace(/\*/g,".*?"))[0]==="-"?C.skips.push(new RegExp("^"+y.slice(1)+"$")):C.names.push(new RegExp("^"+y+"$")))},C.enabled=function(y){if(y[y.length-1]==="*")return!0;let f,b;for(f=0,b=C.skips.length;f<b;f++)if(C.skips[f].test(y))return!1;for(f=0,b=C.names.length;f<b;f++)if(C.names[f].test(y))return!0;return!1},C.humanize=S(824),C.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(I).forEach(y=>{C[y]=I[y]}),C.names=[],C.skips=[],C.formatters={},C.selectColor=function(y){let f=0;for(let b=0;b<y.length;b++)f=(f<<5)-f+y.charCodeAt(b),f|=0;return C.colors[Math.abs(f)%C.colors.length]},C.enable(C.load()),C}},856:function(q){q.exports=function(){function p(_){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},p(_)}function S(_,O){return S=Object.setPrototypeOf||function(z,J){return z.__proto__=J,z},S(_,O)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(_,O,z){return C=I()?Reflect.construct:function(J,oe,Ne){var Ke=[null];Ke.push.apply(Ke,oe);var Pe=new(Function.bind.apply(J,Ke));return Ne&&S(Pe,Ne.prototype),Pe},C.apply(null,arguments)}function M(_){return Z(_)||y(_)||f(_)||v()}function Z(_){if(Array.isArray(_))return b(_)}function y(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function f(_,O){if(_){if(typeof _=="string")return b(_,O);var z=Object.prototype.toString.call(_).slice(8,-1);return z==="Object"&&_.constructor&&(z=_.constructor.name),z==="Map"||z==="Set"?Array.from(_):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?b(_,O):void 0}}function b(_,O){(O==null||O>_.length)&&(O=_.length);for(var z=0,J=new Array(O);z<O;z++)J[z]=_[z];return J}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=Object.hasOwnProperty,L=Object.setPrototypeOf,D=Object.isFrozen,H=Object.getPrototypeOf,j=Object.getOwnPropertyDescriptor,F=Object.freeze,a=Object.seal,l=Object.create,m=typeof Reflect<"u"&&Reflect,x=m.apply,B=m.construct;x||(x=function(_,O,z){return _.apply(O,z)}),F||(F=function(_){return _}),a||(a=function(_){return _}),B||(B=function(_,O){return C(_,M(O))});var K=X(Array.prototype.forEach),ne=X(Array.prototype.pop),pe=X(Array.prototype.push),_e=X(String.prototype.toLowerCase),ke=X(String.prototype.match),ue=X(String.prototype.replace),Le=X(String.prototype.indexOf),d=X(String.prototype.trim),g=X(RegExp.prototype.test),N=xe(TypeError);function X(_){return function(O){for(var z=arguments.length,J=new Array(z>1?z-1:0),oe=1;oe<z;oe++)J[oe-1]=arguments[oe];return x(_,O,J)}}function xe(_){return function(){for(var O=arguments.length,z=new Array(O),J=0;J<O;J++)z[J]=arguments[J];return B(_,z)}}function P(_,O){L&&L(_,null);for(var z=O.length;z--;){var J=O[z];if(typeof J=="string"){var oe=_e(J);oe!==J&&(D(O)||(O[z]=oe),J=oe)}_[J]=!0}return _}function W(_){var O,z=l(null);for(O in _)x(R,_,[O])&&(z[O]=_[O]);return z}function ae(_,O){for(;_!==null;){var z=j(_,O);if(z){if(z.get)return X(z.get);if(typeof z.value=="function")return X(z.value)}_=H(_)}function J(oe){return console.warn("fallback value for",oe),null}return J}var Ae=F(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ce=F(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),He=F(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rt=F(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),de=F(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),se=F(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Se=F(["#text"]),Oe=F(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Te=F(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Me=F(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),De=F(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mt=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kt=a(/<%[\w\W]*|[\w\W]*%>/gm),Lr=a(/^data-[\-\w.\u00B7-\uFFFF]/),Mr=a(/^aria-[\-\w]+$/),Fr=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Nr=a(/^(?:\w+script|data):/i),nt=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ar=a(/^html$/i),Pr=function(){return typeof window>"u"?null:window},Rr=function(_,O){if(p(_)!=="object"||typeof _.createPolicy!="function")return null;var z=null,J="data-tt-policy-suffix";O.currentScript&&O.currentScript.hasAttribute(J)&&(z=O.currentScript.getAttribute(J));var oe="dompurify"+(z?"#"+z:"");try{return _.createPolicy(oe,{createHTML:function(Ne){return Ne}})}catch{return console.warn("TrustedTypes policy "+oe+" could not be created."),null}};function dt(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr(),O=function(o){return dt(o)};if(O.version="2.3.8",O.removed=[],!_||!_.document||_.document.nodeType!==9)return O.isSupported=!1,O;var z=_.document,J=_.document,oe=_.DocumentFragment,Ne=_.HTMLTemplateElement,Ke=_.Node,Pe=_.Element,Ye=_.NodeFilter,ft=_.NamedNodeMap,xt=ft===void 0?_.NamedNodeMap||_.MozNamedAttrMap:ft,Ft=_.HTMLFormElement,sr=_.DOMParser,lr=_.trustedTypes,pt=Pe.prototype,cr=ae(pt,"cloneNode"),ur=ae(pt,"nextSibling"),Dr=ae(pt,"childNodes"),ot=ae(pt,"parentNode");if(typeof Ne=="function"){var Nt=J.createElement("template");Nt.content&&Nt.content.ownerDocument&&(J=Nt.content.ownerDocument)}var Be=Rr(lr,z),dr=Be?Be.createHTML(""):"",ht=J,Pt=ht.implementation,fr=ht.createNodeIterator,pr=ht.createDocumentFragment,Ur=ht.getElementsByTagName,Rt=z.importNode,hr={};try{hr=W(J).documentMode?J.documentMode:{}}catch{}var ge={};O.isSupported=typeof ot=="function"&&Pt&&Pt.createHTMLDocument!==void 0&&hr!==9;var it,We,Dt=Mt,Ut=kt,Ct=Lr,Ie=Mr,qt=Nr,mt=nt,zt=Fr,he=null,$t=P({},[].concat(M(Ae),M(Ce),M(He),M(de),M(Se))),me=null,Ht=P({},[].concat(M(Oe),M(Te),M(Me),M(De))),ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),gt=null,Bt=null,Wt=!0,Gt=!0,mr=!1,at=!1,Y=!1,Jt=!1,Qt=!1,Xe=!1,Ge=!1,st=!1,Vt=!0,St=!0,et=!1,Je={},lt=null,gr=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),yr=null,br=P({},["audio","video","img","source","image","track"]),Zt=null,Ot=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kt="http://www.w3.org/1998/Math/MathML",jt="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml",At=Qe,vr=!1,wr=["application/xhtml+xml","text/html"],qr="text/html",ct=null,zr=J.createElement("form"),Et=function(o){return o instanceof RegExp||o instanceof Function},Yt=function(o){ct&&ct===o||(o&&p(o)==="object"||(o={}),o=W(o),he="ALLOWED_TAGS"in o?P({},o.ALLOWED_TAGS):$t,me="ALLOWED_ATTR"in o?P({},o.ALLOWED_ATTR):Ht,Zt="ADD_URI_SAFE_ATTR"in o?P(W(Ot),o.ADD_URI_SAFE_ATTR):Ot,yr="ADD_DATA_URI_TAGS"in o?P(W(br),o.ADD_DATA_URI_TAGS):br,lt="FORBID_CONTENTS"in o?P({},o.FORBID_CONTENTS):gr,gt="FORBID_TAGS"in o?P({},o.FORBID_TAGS):{},Bt="FORBID_ATTR"in o?P({},o.FORBID_ATTR):{},Je="USE_PROFILES"in o&&o.USE_PROFILES,Wt=o.ALLOW_ARIA_ATTR!==!1,Gt=o.ALLOW_DATA_ATTR!==!1,mr=o.ALLOW_UNKNOWN_PROTOCOLS||!1,at=o.SAFE_FOR_TEMPLATES||!1,Y=o.WHOLE_DOCUMENT||!1,Xe=o.RETURN_DOM||!1,Ge=o.RETURN_DOM_FRAGMENT||!1,st=o.RETURN_TRUSTED_TYPE||!1,Qt=o.FORCE_BODY||!1,Vt=o.SANITIZE_DOM!==!1,St=o.KEEP_CONTENT!==!1,et=o.IN_PLACE||!1,zt=o.ALLOWED_URI_REGEXP||zt,At=o.NAMESPACE||Qe,o.CUSTOM_ELEMENT_HANDLING&&Et(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Et(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),it=it=wr.indexOf(o.PARSER_MEDIA_TYPE)===-1?qr:o.PARSER_MEDIA_TYPE,We=it==="application/xhtml+xml"?function(k){return k}:_e,at&&(Gt=!1),Ge&&(Xe=!0),Je&&(he=P({},M(Se)),me=[],Je.html===!0&&(P(he,Ae),P(me,Oe)),Je.svg===!0&&(P(he,Ce),P(me,Te),P(me,De)),Je.svgFilters===!0&&(P(he,He),P(me,Te),P(me,De)),Je.mathMl===!0&&(P(he,de),P(me,Me),P(me,De))),o.ADD_TAGS&&(he===$t&&(he=W(he)),P(he,o.ADD_TAGS)),o.ADD_ATTR&&(me===Ht&&(me=W(me)),P(me,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&P(Zt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(lt===gr&&(lt=W(lt)),P(lt,o.FORBID_CONTENTS)),St&&(he["#text"]=!0),Y&&P(he,["html","head","body"]),he.table&&(P(he,["tbody"]),delete gt.tbody),F&&F(o),ct=o)},Xt=P({},["mi","mo","mn","ms","mtext"]),_r=P({},["foreignobject","desc","title","annotation-xml"]),$r=P({},["title","style","font","a","script"]),Tt=P({},Ce);P(Tt,He),P(Tt,rt);var er=P({},de);P(er,se);var Hr=function(o){var k=ot(o);k&&k.tagName||(k={namespaceURI:Qe,tagName:"template"});var w=_e(o.tagName),ee=_e(k.tagName);return o.namespaceURI===jt?k.namespaceURI===Qe?w==="svg":k.namespaceURI===Kt?w==="svg"&&(ee==="annotation-xml"||Xt[ee]):Boolean(Tt[w]):o.namespaceURI===Kt?k.namespaceURI===Qe?w==="math":k.namespaceURI===jt?w==="math"&&_r[ee]:Boolean(er[w]):o.namespaceURI===Qe&&!(k.namespaceURI===jt&&!_r[ee])&&!(k.namespaceURI===Kt&&!Xt[ee])&&!er[w]&&($r[w]||!Tt[w])},Ue=function(o){pe(O.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=dr}catch{o.remove()}}},kr=function(o,k){try{pe(O.removed,{attribute:k.getAttributeNode(o),from:k})}catch{pe(O.removed,{attribute:null,from:k})}if(k.removeAttribute(o),o==="is"&&!me[o])if(Xe||Ge)try{Ue(k)}catch{}else try{k.setAttribute(o,"")}catch{}},xr=function(o){var k,w;if(Qt)o="<remove></remove>"+o;else{var ee=ke(o,/^[\r\n\t ]+/);w=ee&&ee[0]}it==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var le=Be?Be.createHTML(o):o;if(At===Qe)try{k=new sr().parseFromString(le,it)}catch{}if(!k||!k.documentElement){k=Pt.createDocument(At,"template",null);try{k.documentElement.innerHTML=vr?"":le}catch{}}var ye=k.body||k.documentElement;return o&&w&&ye.insertBefore(J.createTextNode(w),ye.childNodes[0]||null),At===Qe?Ur.call(k,Y?"html":"body")[0]:Y?k.documentElement:ye},yt=function(o){return fr.call(o.ownerDocument||o,o,Ye.SHOW_ELEMENT|Ye.SHOW_COMMENT|Ye.SHOW_TEXT,null,!1)},Br=function(o){return o instanceof Ft&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof xt)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},bt=function(o){return p(Ke)==="object"?o instanceof Ke:o&&p(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},qe=function(o,k,w){ge[o]&&K(ge[o],function(ee){ee.call(O,k,w,ct)})},tr=function(o){var k;if(qe("beforeSanitizeElements",o,null),Br(o)||g(/[\u0080-\uFFFF]/,o.nodeName))return Ue(o),!0;var w=We(o.nodeName);if(qe("uponSanitizeElement",o,{tagName:w,allowedTags:he}),o.hasChildNodes()&&!bt(o.firstElementChild)&&(!bt(o.content)||!bt(o.content.firstElementChild))&&g(/<[/\w]/g,o.innerHTML)&&g(/<[/\w]/g,o.textContent)||w==="select"&&g(/<template/i,o.innerHTML))return Ue(o),!0;if(!he[w]||gt[w]){if(!gt[w]&&rr(w)&&(ie.tagNameCheck instanceof RegExp&&g(ie.tagNameCheck,w)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(w)))return!1;if(St&&!lt[w]){var ee=ot(o)||o.parentNode,le=Dr(o)||o.childNodes;if(le&&ee)for(var ye=le.length-1;ye>=0;--ye)ee.insertBefore(cr(le[ye],!0),ur(o))}return Ue(o),!0}return o instanceof Pe&&!Hr(o)?(Ue(o),!0):w!=="noscript"&&w!=="noembed"||!g(/<\/no(script|embed)/i,o.innerHTML)?(at&&o.nodeType===3&&(k=o.textContent,k=ue(k,Dt," "),k=ue(k,Ut," "),o.textContent!==k&&(pe(O.removed,{element:o.cloneNode()}),o.textContent=k)),qe("afterSanitizeElements",o,null),!1):(Ue(o),!0)},Cr=function(o,k,w){if(Vt&&(k==="id"||k==="name")&&(w in J||w in zr))return!1;if(!(Gt&&!Bt[k]&&g(Ct,k))){if(!(Wt&&g(Ie,k))){if(!me[k]||Bt[k]){if(!(rr(o)&&(ie.tagNameCheck instanceof RegExp&&g(ie.tagNameCheck,o)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(o))&&(ie.attributeNameCheck instanceof RegExp&&g(ie.attributeNameCheck,k)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(k))||k==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&g(ie.tagNameCheck,w)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(w))))return!1}else if(!Zt[k]){if(!g(zt,ue(w,mt,""))){if((k!=="src"&&k!=="xlink:href"&&k!=="href"||o==="script"||Le(w,"data:")!==0||!yr[o])&&!(mr&&!g(qt,ue(w,mt,"")))){if(w)return!1}}}}}return!0},rr=function(o){return o.indexOf("-")>0},vt=function(o){var k,w,ee,le;qe("beforeSanitizeAttributes",o,null);var ye=o.attributes;if(ye){var be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:me};for(le=ye.length;le--;){var wt=k=ye[le],ze=wt.name,Q=wt.namespaceURI;if(w=ze==="value"?k.value:d(k.value),ee=We(ze),be.attrName=ee,be.attrValue=w,be.keepAttr=!0,be.forceKeepAttr=void 0,qe("uponSanitizeAttribute",o,be),w=be.attrValue,!be.forceKeepAttr&&(kr(ze,o),be.keepAttr))if(g(/\/>/i,w))kr(ze,o);else{at&&(w=ue(w,Dt," "),w=ue(w,Ut," "));var tt=We(o.nodeName);if(Cr(tt,ee,w))try{Q?o.setAttributeNS(Q,ze,w):o.setAttribute(ze,w),ne(O.removed)}catch{}}}qe("afterSanitizeAttributes",o,null)}},nr=function o(k){var w,ee=yt(k);for(qe("beforeSanitizeShadowDOM",k,null);w=ee.nextNode();)qe("uponSanitizeShadowNode",w,null),tr(w)||(w.content instanceof oe&&o(w.content),vt(w));qe("afterSanitizeShadowDOM",k,null)};return O.sanitize=function(o,k){var w,ee,le,ye,be;if((vr=!o)&&(o="<!-->"),typeof o!="string"&&!bt(o)){if(typeof o.toString!="function")throw N("toString is not a function");if(typeof(o=o.toString())!="string")throw N("dirty is not a string, aborting")}if(!O.isSupported){if(p(_.toStaticHTML)==="object"||typeof _.toStaticHTML=="function"){if(typeof o=="string")return _.toStaticHTML(o);if(bt(o))return _.toStaticHTML(o.outerHTML)}return o}if(Jt||Yt(k),O.removed=[],typeof o=="string"&&(et=!1),et){if(o.nodeName){var wt=We(o.nodeName);if(!he[wt]||gt[wt])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Ke)(ee=(w=xr("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?w=ee:w.appendChild(ee);else{if(!Xe&&!at&&!Y&&o.indexOf("<")===-1)return Be&&st?Be.createHTML(o):o;if(!(w=xr(o)))return Xe?null:st?dr:""}w&&Qt&&Ue(w.firstChild);for(var ze=yt(et?o:w);le=ze.nextNode();)le.nodeType===3&&le===ye||tr(le)||(le.content instanceof oe&&nr(le.content),vt(le),ye=le);if(ye=null,et)return o;if(Xe){if(Ge)for(be=pr.call(w.ownerDocument);w.firstChild;)be.appendChild(w.firstChild);else be=w;return me.shadowroot&&(be=Rt.call(z,be,!0)),be}var Q=Y?w.outerHTML:w.innerHTML;return Y&&he["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&g(ar,w.ownerDocument.doctype.name)&&(Q="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+Q),at&&(Q=ue(Q,Dt," "),Q=ue(Q,Ut," ")),Be&&st?Be.createHTML(Q):Q},O.setConfig=function(o){Yt(o),Jt=!0},O.clearConfig=function(){ct=null,Jt=!1},O.isValidAttribute=function(o,k,w){ct||Yt({});var ee=We(o),le=We(k);return Cr(ee,le,w)},O.addHook=function(o,k){typeof k=="function"&&(ge[o]=ge[o]||[],pe(ge[o],k))},O.removeHook=function(o){if(ge[o])return ne(ge[o])},O.removeHooks=function(o){ge[o]&&(ge[o]=[])},O.removeAllHooks=function(){ge={}},O}return dt()}()},729:q=>{var p=Object.prototype.hasOwnProperty,S="~";function I(){}function C(f,b,v){this.fn=f,this.context=b,this.once=v||!1}function M(f,b,v,R,L){if(typeof v!="function")throw new TypeError("The listener must be a function");var D=new C(v,R||f,L),H=S?S+b:b;return f._events[H]?f._events[H].fn?f._events[H]=[f._events[H],D]:f._events[H].push(D):(f._events[H]=D,f._eventsCount++),f}function Z(f,b){--f._eventsCount==0?f._events=new I:delete f._events[b]}function y(){this._events=new I,this._eventsCount=0}Object.create&&(I.prototype=Object.create(null),new I().__proto__||(S=!1)),y.prototype.eventNames=function(){var f,b,v=[];if(this._eventsCount===0)return v;for(b in f=this._events)p.call(f,b)&&v.push(S?b.slice(1):b);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(f)):v},y.prototype.listeners=function(f){var b=S?S+f:f,v=this._events[b];if(!v)return[];if(v.fn)return[v.fn];for(var R=0,L=v.length,D=new Array(L);R<L;R++)D[R]=v[R].fn;return D},y.prototype.listenerCount=function(f){var b=S?S+f:f,v=this._events[b];return v?v.fn?1:v.length:0},y.prototype.emit=function(f,b,v,R,L,D){var H=S?S+f:f;if(!this._events[H])return!1;var j,F,a=this._events[H],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(f,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,b),!0;case 3:return a.fn.call(a.context,b,v),!0;case 4:return a.fn.call(a.context,b,v,R),!0;case 5:return a.fn.call(a.context,b,v,R,L),!0;case 6:return a.fn.call(a.context,b,v,R,L,D),!0}for(F=1,j=new Array(l-1);F<l;F++)j[F-1]=arguments[F];a.fn.apply(a.context,j)}else{var m,x=a.length;for(F=0;F<x;F++)switch(a[F].once&&this.removeListener(f,a[F].fn,void 0,!0),l){case 1:a[F].fn.call(a[F].context);break;case 2:a[F].fn.call(a[F].context,b);break;case 3:a[F].fn.call(a[F].context,b,v);break;case 4:a[F].fn.call(a[F].context,b,v,R);break;default:if(!j)for(m=1,j=new Array(l-1);m<l;m++)j[m-1]=arguments[m];a[F].fn.apply(a[F].context,j)}}return!0},y.prototype.on=function(f,b,v){return M(this,f,b,v,!1)},y.prototype.once=function(f,b,v){return M(this,f,b,v,!0)},y.prototype.removeListener=function(f,b,v,R){var L=S?S+f:f;if(!this._events[L])return this;if(!b)return Z(this,L),this;var D=this._events[L];if(D.fn)D.fn!==b||R&&!D.once||v&&D.context!==v||Z(this,L);else{for(var H=0,j=[],F=D.length;H<F;H++)(D[H].fn!==b||R&&!D[H].once||v&&D[H].context!==v)&&j.push(D[H]);j.length?this._events[L]=j.length===1?j[0]:j:Z(this,L)}return this},y.prototype.removeAllListeners=function(f){var b;return f?(b=S?S+f:f,this._events[b]&&Z(this,b)):(this._events=new I,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=S,y.EventEmitter=y,q.exports=y},717:q=>{typeof Object.create=="function"?q.exports=function(p,S){p.super_=S,p.prototype=Object.create(S.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:q.exports=function(p,S){p.super_=S;var I=function(){};I.prototype=S.prototype,p.prototype=new I,p.prototype.constructor=p}},824:q=>{var p=1e3,S=60*p,I=60*S,C=24*I,M=7*C,Z=365.25*C;function y(f,b,v,R){var L=b>=1.5*v;return Math.round(f/v)+" "+R+(L?"s":"")}q.exports=function(f,b){b=b||{};var v=typeof f;if(v==="string"&&f.length>0)return function(R){if(!((R=String(R)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return D*Z;case"weeks":case"week":case"w":return D*M;case"days":case"day":case"d":return D*C;case"hours":case"hour":case"hrs":case"hr":case"h":return D*I;case"minutes":case"minute":case"mins":case"min":case"m":return D*S;case"seconds":case"second":case"secs":case"sec":case"s":return D*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(f);if(v==="number"&&isFinite(f))return b.long?function(R){var L=Math.abs(R);return L>=C?y(R,L,C,"day"):L>=I?y(R,L,I,"hour"):L>=S?y(R,L,S,"minute"):L>=p?y(R,L,p,"second"):R+" ms"}(f):function(R){var L=Math.abs(R);return L>=C?Math.round(R/C)+"d":L>=I?Math.round(R/I)+"h":L>=S?Math.round(R/S)+"m":L>=p?Math.round(R/p)+"s":R+"ms"}(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))}},520:(q,p,S)=>{var I=S(155),C=I.platform==="win32",M=S(539);function Z(a,l){for(var m=[],x=0;x<a.length;x++){var B=a[x];B&&B!=="."&&(B===".."?m.length&&m[m.length-1]!==".."?m.pop():l&&m.push(".."):m.push(B))}return m}function y(a){for(var l=a.length-1,m=0;m<=l&&!a[m];m++);for(var x=l;x>=0&&!a[x];x--);return m===0&&x===l?a:m>x?[]:a.slice(m,x+1)}var f=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,b=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,v={};function R(a){var l=f.exec(a),m=(l[1]||"")+(l[2]||""),x=l[3]||"",B=b.exec(x);return[m,B[1],B[2],B[3]]}function L(a){var l=f.exec(a),m=l[1]||"",x=!!m&&m[1]!==":";return{device:m,isUnc:x,isAbsolute:x||!!l[2],tail:l[3]}}function D(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}v.resolve=function(){for(var a="",l="",m=!1,x=arguments.length-1;x>=-1;x--){var B;if(x>=0?B=arguments[x]:a?(B=I.env["="+a])&&B.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(B=a+"\\"):B=I.cwd(),!M.isString(B))throw new TypeError("Arguments to path.resolve must be strings");if(B){var K=L(B),ne=K.device,pe=K.isUnc,_e=K.isAbsolute,ke=K.tail;if((!ne||!a||ne.toLowerCase()===a.toLowerCase())&&(a||(a=ne),m||(l=ke+"\\"+l,m=_e),a&&m))break}}return pe&&(a=D(a)),a+(m?"\\":"")+(l=Z(l.split(/[\\\/]+/),!m).join("\\"))||"."},v.normalize=function(a){var l=L(a),m=l.device,x=l.isUnc,B=l.isAbsolute,K=l.tail,ne=/[\\\/]$/.test(K);return(K=Z(K.split(/[\\\/]+/),!B).join("\\"))||B||(K="."),K&&ne&&(K+="\\"),x&&(m=D(m)),m+(B?"\\":"")+K},v.isAbsolute=function(a){return L(a).isAbsolute},v.join=function(){for(var a=[],l=0;l<arguments.length;l++){var m=arguments[l];if(!M.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&a.push(m)}var x=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(x=x.replace(/^[\\\/]{2,}/,"\\")),v.normalize(x)},v.relative=function(a,l){a=v.resolve(a),l=v.resolve(l);for(var m=a.toLowerCase(),x=l.toLowerCase(),B=y(l.split("\\")),K=y(m.split("\\")),ne=y(x.split("\\")),pe=Math.min(K.length,ne.length),_e=pe,ke=0;ke<pe;ke++)if(K[ke]!==ne[ke]){_e=ke;break}if(_e==0)return l;var ue=[];for(ke=_e;ke<K.length;ke++)ue.push("..");return(ue=ue.concat(B.slice(_e))).join("\\")},v._makeLong=function(a){if(!M.isString(a))return a;if(!a)return"";var l=v.resolve(a);return/^[a-zA-Z]\:\\/.test(l)?"\\\\?\\"+l:/^\\\\[^?.]/.test(l)?"\\\\?\\UNC\\"+l.substring(2):a},v.dirname=function(a){var l=R(a),m=l[0],x=l[1];return m||x?(x&&(x=x.substr(0,x.length-1)),m+x):"."},v.basename=function(a,l){var m=R(a)[2];return l&&m.substr(-1*l.length)===l&&(m=m.substr(0,m.length-l.length)),m},v.extname=function(a){return R(a)[3]},v.format=function(a){if(!M.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var l=a.root||"";if(!M.isString(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var m=a.dir,x=a.base||"";return m?m[m.length-1]===v.sep?m+x:m+v.sep+x:x},v.parse=function(a){if(!M.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var l=R(a);if(!l||l.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},v.sep="\\",v.delimiter=";";var H=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,j={};function F(a){return H.exec(a).slice(1)}j.resolve=function(){for(var a="",l=!1,m=arguments.length-1;m>=-1&&!l;m--){var x=m>=0?arguments[m]:I.cwd();if(!M.isString(x))throw new TypeError("Arguments to path.resolve must be strings");x&&(a=x+"/"+a,l=x[0]==="/")}return(l?"/":"")+(a=Z(a.split("/"),!l).join("/"))||"."},j.normalize=function(a){var l=j.isAbsolute(a),m=a&&a[a.length-1]==="/";return(a=Z(a.split("/"),!l).join("/"))||l||(a="."),a&&m&&(a+="/"),(l?"/":"")+a},j.isAbsolute=function(a){return a.charAt(0)==="/"},j.join=function(){for(var a="",l=0;l<arguments.length;l++){var m=arguments[l];if(!M.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&(a+=a?"/"+m:m)}return j.normalize(a)},j.relative=function(a,l){a=j.resolve(a).substr(1),l=j.resolve(l).substr(1);for(var m=y(a.split("/")),x=y(l.split("/")),B=Math.min(m.length,x.length),K=B,ne=0;ne<B;ne++)if(m[ne]!==x[ne]){K=ne;break}var pe=[];for(ne=K;ne<m.length;ne++)pe.push("..");return(pe=pe.concat(x.slice(K))).join("/")},j._makeLong=function(a){return a},j.dirname=function(a){var l=F(a),m=l[0],x=l[1];return m||x?(x&&(x=x.substr(0,x.length-1)),m+x):"."},j.basename=function(a,l){var m=F(a)[2];return l&&m.substr(-1*l.length)===l&&(m=m.substr(0,m.length-l.length)),m},j.extname=function(a){return F(a)[3]},j.format=function(a){if(!M.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var l=a.root||"";if(!M.isString(l))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+j.sep:"")+(a.base||"")},j.parse=function(a){if(!M.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var l=F(a);if(!l||l.length!==4)throw new TypeError("Invalid path '"+a+"'");return l[1]=l[1]||"",l[2]=l[2]||"",l[3]=l[3]||"",{root:l[0],dir:l[0]+l[1].slice(0,-1),base:l[2],ext:l[3],name:l[2].slice(0,l[2].length-l[3].length)}},j.sep="/",j.delimiter=":",q.exports=C?v:j,q.exports.posix=j,q.exports.win32=v},155:q=>{var p,S,I=q.exports={};function C(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}function Z(j){if(p===setTimeout)return setTimeout(j,0);if((p===C||!p)&&setTimeout)return p=setTimeout,setTimeout(j,0);try{return p(j,0)}catch{try{return p.call(null,j,0)}catch{return p.call(this,j,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:C}catch{p=C}try{S=typeof clearTimeout=="function"?clearTimeout:M}catch{S=M}})();var y,f=[],b=!1,v=-1;function R(){b&&y&&(b=!1,y.length?f=y.concat(f):v=-1,f.length&&L())}function L(){if(!b){var j=Z(R);b=!0;for(var F=f.length;F;){for(y=f,f=[];++v<F;)y&&y[v].run();v=-1,F=f.length}y=null,b=!1,function(a){if(S===clearTimeout)return clearTimeout(a);if((S===M||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(a);try{S(a)}catch{try{return S.call(null,a)}catch{return S.call(this,a)}}}(j)}}function D(j,F){this.fun=j,this.array=F}function H(){}I.nextTick=function(j){var F=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)F[a-1]=arguments[a];f.push(new D(j,F)),f.length!==1||b||Z(L)},D.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={},I.on=H,I.addListener=H,I.once=H,I.off=H,I.removeListener=H,I.removeAllListeners=H,I.emit=H,I.prependListener=H,I.prependOnceListener=H,I.listeners=function(j){return[]},I.binding=function(j){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(j){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},384:q=>{q.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(q,p,S)=>{var I=S(155),C=/%[sdj%]/g;p.format=function(d){if(!a(d)){for(var g=[],N=0;N<arguments.length;N++)g.push(y(arguments[N]));return g.join(" ")}N=1;for(var X=arguments,xe=X.length,P=String(d).replace(C,function(ae){if(ae==="%%")return"%";if(N>=xe)return ae;switch(ae){case"%s":return String(X[N++]);case"%d":return Number(X[N++]);case"%j":try{return JSON.stringify(X[N++])}catch{return"[Circular]"}default:return ae}}),W=X[N];N<xe;W=X[++N])j(W)||!x(W)?P+=" "+W:P+=" "+y(W);return P},p.deprecate=function(d,g){if(l(S.g.process))return function(){return p.deprecate(d,g).apply(this,arguments)};if(I.noDeprecation===!0)return d;var N=!1;return function(){if(!N){if(I.throwDeprecation)throw new Error(g);I.traceDeprecation?console.trace(g):console.error(g),N=!0}return d.apply(this,arguments)}};var M,Z={};function y(d,g){var N={seen:[],stylize:b};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),H(g)?N.showHidden=g:g&&p._extend(N,g),l(N.showHidden)&&(N.showHidden=!1),l(N.depth)&&(N.depth=2),l(N.colors)&&(N.colors=!1),l(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=f),v(N,d,N.depth)}function f(d,g){var N=y.styles[g];return N?"\x1B["+y.colors[N][0]+"m"+d+"\x1B["+y.colors[N][1]+"m":d}function b(d,g){return d}function v(d,g,N){if(d.customInspect&&g&&ne(g.inspect)&&g.inspect!==p.inspect&&(!g.constructor||g.constructor.prototype!==g)){var X=g.inspect(N,d);return a(X)||(X=v(d,X,N)),X}var xe=function(de,se){if(l(se))return de.stylize("undefined","undefined");if(a(se)){var Se="'"+JSON.stringify(se).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(Se,"string")}if(F(se))return de.stylize(""+se,"number");if(H(se))return de.stylize(""+se,"boolean");if(j(se))return de.stylize("null","null")}(d,g);if(xe)return xe;var P=Object.keys(g),W=function(de){var se={};return de.forEach(function(Se,Oe){se[Se]=!0}),se}(P);if(d.showHidden&&(P=Object.getOwnPropertyNames(g)),K(g)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return R(g);if(P.length===0){if(ne(g)){var ae=g.name?": "+g.name:"";return d.stylize("[Function"+ae+"]","special")}if(m(g))return d.stylize(RegExp.prototype.toString.call(g),"regexp");if(B(g))return d.stylize(Date.prototype.toString.call(g),"date");if(K(g))return R(g)}var Ae,Ce="",He=!1,rt=["{","}"];return D(g)&&(He=!0,rt=["[","]"]),ne(g)&&(Ce=" [Function"+(g.name?": "+g.name:"")+"]"),m(g)&&(Ce=" "+RegExp.prototype.toString.call(g)),B(g)&&(Ce=" "+Date.prototype.toUTCString.call(g)),K(g)&&(Ce=" "+R(g)),P.length!==0||He&&g.length!=0?N<0?m(g)?d.stylize(RegExp.prototype.toString.call(g),"regexp"):d.stylize("[Object]","special"):(d.seen.push(g),Ae=He?function(de,se,Se,Oe,Te){for(var Me=[],De=0,Mt=se.length;De<Mt;++De)Le(se,String(De))?Me.push(L(de,se,Se,Oe,String(De),!0)):Me.push("");return Te.forEach(function(kt){kt.match(/^\d+$/)||Me.push(L(de,se,Se,Oe,kt,!0))}),Me}(d,g,N,W,P):P.map(function(de){return L(d,g,N,W,de,He)}),d.seen.pop(),function(de,se,Se){return de.reduce(function(Oe,Te){return Te.indexOf(`
`)>=0,Oe+Te.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Se[0]+(se===""?"":se+`
 `)+" "+de.join(`,
  `)+" "+Se[1]:Se[0]+se+" "+de.join(", ")+" "+Se[1]}(Ae,Ce,rt)):rt[0]+Ce+rt[1]}function R(d){return"["+Error.prototype.toString.call(d)+"]"}function L(d,g,N,X,xe,P){var W,ae,Ae;if((Ae=Object.getOwnPropertyDescriptor(g,xe)||{value:g[xe]}).get?ae=Ae.set?d.stylize("[Getter/Setter]","special"):d.stylize("[Getter]","special"):Ae.set&&(ae=d.stylize("[Setter]","special")),Le(X,xe)||(W="["+xe+"]"),ae||(d.seen.indexOf(Ae.value)<0?(ae=j(N)?v(d,Ae.value,null):v(d,Ae.value,N-1)).indexOf(`
`)>-1&&(ae=P?ae.split(`
`).map(function(Ce){return"  "+Ce}).join(`
`).substr(2):`
`+ae.split(`
`).map(function(Ce){return"   "+Ce}).join(`
`)):ae=d.stylize("[Circular]","special")),l(W)){if(P&&xe.match(/^\d+$/))return ae;(W=JSON.stringify(""+xe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.substr(1,W.length-2),W=d.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=d.stylize(W,"string"))}return W+": "+ae}function D(d){return Array.isArray(d)}function H(d){return typeof d=="boolean"}function j(d){return d===null}function F(d){return typeof d=="number"}function a(d){return typeof d=="string"}function l(d){return d===void 0}function m(d){return x(d)&&pe(d)==="[object RegExp]"}function x(d){return typeof d=="object"&&d!==null}function B(d){return x(d)&&pe(d)==="[object Date]"}function K(d){return x(d)&&(pe(d)==="[object Error]"||d instanceof Error)}function ne(d){return typeof d=="function"}function pe(d){return Object.prototype.toString.call(d)}function _e(d){return d<10?"0"+d.toString(10):d.toString(10)}p.debuglog=function(d){if(l(M)&&(M=I.env.NODE_DEBUG||""),d=d.toUpperCase(),!Z[d])if(new RegExp("\\b"+d+"\\b","i").test(M)){var g=I.pid;Z[d]=function(){var N=p.format.apply(p,arguments);console.error("%s %d: %s",d,g,N)}}else Z[d]=function(){};return Z[d]},p.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=D,p.isBoolean=H,p.isNull=j,p.isNullOrUndefined=function(d){return d==null},p.isNumber=F,p.isString=a,p.isSymbol=function(d){return typeof d=="symbol"},p.isUndefined=l,p.isRegExp=m,p.isObject=x,p.isDate=B,p.isError=K,p.isFunction=ne,p.isPrimitive=function(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||d===void 0},p.isBuffer=S(384);var ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(){var d=new Date,g=[_e(d.getHours()),_e(d.getMinutes()),_e(d.getSeconds())].join(":");return[d.getDate(),ke[d.getMonth()],g].join(" ")}function Le(d,g){return Object.prototype.hasOwnProperty.call(d,g)}p.log=function(){console.log("%s - %s",ue(),p.format.apply(p,arguments))},p.inherits=S(717),p._extend=function(d,g){if(!g||!x(g))return d;for(var N=Object.keys(g),X=N.length;X--;)d[N[X]]=g[N[X]];return d}}},Fe={};function V(q){var p=Fe[q];if(p!==void 0)return p.exports;var S=Fe[q]={exports:{}};return we[q].call(S.exports,S,S.exports,V),S.exports}V.n=q=>{var p=q&&q.__esModule?()=>q.default:()=>q;return V.d(p,{a:p}),p},V.d=(q,p)=>{for(var S in p)V.o(p,S)&&!V.o(q,S)&&Object.defineProperty(q,S,{enumerable:!0,get:p[S]})},V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),V.o=(q,p)=>Object.prototype.hasOwnProperty.call(q,p),V.r=q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})};var je={};return(()=>{V.r(je),V.d(je,{LSPluginUser:()=>nn,setupPluginUserInstance:()=>Rn});var q=V(520);V(856);const p=function(){this.__data__=[],this.size=0},S=function(t,e){return t===e||t!=t&&e!=e},I=function(t,e){for(var r=t.length;r--;)if(S(t[r][0],e))return r;return-1};var C=Array.prototype.splice;const M=function(t){var e=this.__data__,r=I(e,t);return!(r<0)&&(r==e.length-1?e.pop():C.call(e,r,1),--this.size,!0)},Z=function(t){var e=this.__data__,r=I(e,t);return r<0?void 0:e[r][1]},y=function(t){return I(this.__data__,t)>-1},f=function(t,e){var r=this.__data__,n=I(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function b(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}b.prototype.clear=p,b.prototype.delete=M,b.prototype.get=Z,b.prototype.has=y,b.prototype.set=f;const v=b,R=function(){this.__data__=new v,this.size=0},L=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},D=function(t){return this.__data__.get(t)},H=function(t){return this.__data__.has(t)},j=typeof Ir=="object"&&Ir&&Ir.Object===Object&&Ir;var F=typeof self=="object"&&self&&self.Object===Object&&self;const a=j||F||Function("return this")(),l=a.Symbol;var m=Object.prototype,x=m.hasOwnProperty,B=m.toString,K=l?l.toStringTag:void 0;const ne=function(t){var e=x.call(t,K),r=t[K];try{t[K]=void 0;var n=!0}catch{}var i=B.call(t);return n&&(e?t[K]=r:delete t[K]),i};var pe=Object.prototype.toString;const _e=function(t){return pe.call(t)};var ke=l?l.toStringTag:void 0;const ue=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ke&&ke in Object(t)?ne(t):_e(t)},Le=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},d=function(t){if(!Le(t))return!1;var e=ue(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},g=a["__core-js_shared__"];var N,X=(N=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"";const xe=function(t){return!!X&&X in t};var P=Function.prototype.toString;const W=function(t){if(t!=null){try{return P.call(t)}catch{}try{return t+""}catch{}}return""};var ae=/^\[object .+?Constructor\]$/,Ae=Function.prototype,Ce=Object.prototype,He=Ae.toString,rt=Ce.hasOwnProperty,de=RegExp("^"+He.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const se=function(t){return!(!Le(t)||xe(t))&&(d(t)?de:ae).test(W(t))},Se=function(t,e){return t?.[e]},Oe=function(t,e){var r=Se(t,e);return se(r)?r:void 0},Te=Oe(a,"Map"),Me=Oe(Object,"create"),De=function(){this.__data__=Me?Me(null):{},this.size=0},Mt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var kt=Object.prototype.hasOwnProperty;const Lr=function(t){var e=this.__data__;if(Me){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return kt.call(e,t)?e[t]:void 0};var Mr=Object.prototype.hasOwnProperty;const Fr=function(t){var e=this.__data__;return Me?e[t]!==void 0:Mr.call(e,t)},Nr=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Me&&e===void 0?"__lodash_hash_undefined__":e,this};function nt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nt.prototype.clear=De,nt.prototype.delete=Mt,nt.prototype.get=Lr,nt.prototype.has=Fr,nt.prototype.set=Nr;const ar=nt,Pr=function(){this.size=0,this.__data__={hash:new ar,map:new(Te||v),string:new ar}},Rr=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},dt=function(t,e){var r=t.__data__;return Rr(e)?r[typeof e=="string"?"string":"hash"]:r.map},_=function(t){var e=dt(this,t).delete(t);return this.size-=e?1:0,e},O=function(t){return dt(this,t).get(t)},z=function(t){return dt(this,t).has(t)},J=function(t,e){var r=dt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function oe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}oe.prototype.clear=Pr,oe.prototype.delete=_,oe.prototype.get=O,oe.prototype.has=z,oe.prototype.set=J;const Ne=oe,Ke=function(t,e){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!Te||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ne(n)}return r.set(t,e),this.size=r.size,this};function Pe(t){var e=this.__data__=new v(t);this.size=e.size}Pe.prototype.clear=R,Pe.prototype.delete=L,Pe.prototype.get=D,Pe.prototype.has=H,Pe.prototype.set=Ke;const Ye=Pe,ft=function(){try{var t=Oe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xt=function(t,e,r){e=="__proto__"&&ft?ft(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Ft=function(t,e,r){(r!==void 0&&!S(t[e],r)||r===void 0&&!(e in t))&&xt(t,e,r)},sr=function(t){return function(e,r,n){for(var i=-1,s=Object(e),c=n(e),u=c.length;u--;){var h=c[t?u:++i];if(r(s[h],h,s)===!1)break}return e}}();var lr=ce&&!ce.nodeType&&ce,pt=lr&&!0&&re&&!re.nodeType&&re,cr=pt&&pt.exports===lr?a.Buffer:void 0,ur=cr?cr.allocUnsafe:void 0;const Dr=function(t,e){if(e)return t.slice();var r=t.length,n=ur?ur(r):new t.constructor(r);return t.copy(n),n},ot=a.Uint8Array,Nt=function(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e},Be=function(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},dr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var ht=Object.create;const Pt=function(){function t(){}return function(e){if(!Le(e))return{};if(ht)return ht(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),fr=function(t,e){return function(r){return t(e(r))}},pr=fr(Object.getPrototypeOf,Object);var Ur=Object.prototype;const Rt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Ur)},hr=function(t){return typeof t.constructor!="function"||Rt(t)?{}:Pt(pr(t))},ge=function(t){return t!=null&&typeof t=="object"},it=function(t){return ge(t)&&ue(t)=="[object Arguments]"};var We=Object.prototype,Dt=We.hasOwnProperty,Ut=We.propertyIsEnumerable;const Ct=it(function(){return arguments}())?it:function(t){return ge(t)&&Dt.call(t,"callee")&&!Ut.call(t,"callee")},Ie=Array.isArray,qt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},mt=function(t){return t!=null&&qt(t.length)&&!d(t)},zt=function(t){return ge(t)&&mt(t)},he=function(){return!1};var $t=ce&&!ce.nodeType&&ce,me=$t&&!0&&re&&!re.nodeType&&re,Ht=me&&me.exports===$t?a.Buffer:void 0;const ie=(Ht?Ht.isBuffer:void 0)||he;var gt=Function.prototype,Bt=Object.prototype,Wt=gt.toString,Gt=Bt.hasOwnProperty,mr=Wt.call(Object);const at=function(t){if(!ge(t)||ue(t)!="[object Object]")return!1;var e=pr(t);if(e===null)return!0;var r=Gt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Wt.call(r)==mr};var Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;const Jt=function(t){return ge(t)&&qt(t.length)&&!!Y[ue(t)]},Qt=function(t){return function(e){return t(e)}};var Xe=ce&&!ce.nodeType&&ce,Ge=Xe&&!0&&re&&!re.nodeType&&re,st=Ge&&Ge.exports===Xe&&j.process,Vt=function(){try{var t=Ge&&Ge.require&&Ge.require("util").types;return t||st&&st.binding&&st.binding("util")}catch{}}(),St=Vt&&Vt.isTypedArray;const et=St?Qt(St):Jt,Je=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var lt=Object.prototype.hasOwnProperty;const gr=function(t,e,r){var n=t[e];lt.call(t,e)&&S(n,r)&&(r!==void 0||e in t)||xt(t,e,r)},yr=function(t,e,r,n){var i=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var u=e[s],h=n?n(r[u],t[u],u,r,t):void 0;h===void 0&&(h=t[u]),i?xt(r,u,h):gr(r,u,h)}return r},br=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Zt=/^(?:0|[1-9]\d*)$/;const Ot=function(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&(r=="number"||r!="symbol"&&Zt.test(t))&&t>-1&&t%1==0&&t<e};var Kt=Object.prototype.hasOwnProperty;const jt=function(t,e){var r=Ie(t),n=!r&&Ct(t),i=!r&&!n&&ie(t),s=!r&&!n&&!i&&et(t),c=r||n||i||s,u=c?br(t.length,String):[],h=u.length;for(var A in t)!e&&!Kt.call(t,A)||c&&(A=="length"||i&&(A=="offset"||A=="parent")||s&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Ot(A,h))||u.push(A);return u},Qe=function(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e};var At=Object.prototype.hasOwnProperty;const vr=function(t){if(!Le(t))return Qe(t);var e=Rt(t),r=[];for(var n in t)(n!="constructor"||!e&&At.call(t,n))&&r.push(n);return r},wr=function(t){return mt(t)?jt(t,!0):vr(t)},qr=function(t){return yr(t,wr(t))},ct=function(t,e,r,n,i,s,c){var u=Je(t,r),h=Je(e,r),A=c.get(h);if(A)Ft(t,r,A);else{var E=s?s(u,h,r+"",t,e,c):void 0,T=E===void 0;if(T){var U=Ie(h),G=!U&&ie(h),$=!U&&!G&&et(h);E=h,U||G||$?Ie(u)?E=u:zt(u)?E=dr(u):G?(T=!1,E=Dr(h,!0)):$?(T=!1,E=Be(h,!0)):E=[]:at(h)||Ct(h)?(E=u,Ct(u)?E=qr(u):Le(u)&&!d(u)||(E=hr(h))):T=!1}T&&(c.set(h,E),i(E,h,n,s,c),c.delete(h)),Ft(t,r,E)}},zr=function t(e,r,n,i,s){e!==r&&sr(r,function(c,u){if(s||(s=new Ye),Le(c))ct(e,r,u,n,t,i,s);else{var h=i?i(Je(e,u),c,u+"",e,r,s):void 0;h===void 0&&(h=c),Ft(e,u,h)}},wr)},Et=function(t){return t},Yt=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)};var Xt=Math.max;const _r=function(t,e,r){return e=Xt(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Xt(n.length-e,0),c=Array(s);++i<s;)c[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=r(c),Yt(t,this,u)}},$r=function(t){return function(){return t}},Tt=ft?function(t,e){return ft(t,"toString",{configurable:!0,enumerable:!1,value:$r(e),writable:!0})}:Et;var er=Date.now;const Hr=function(t){var e=0,r=0;return function(){var n=er(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Tt),Ue=function(t,e){return Hr(_r(t,e,Et),t+"")},kr=function(t,e,r){if(!Le(r))return!1;var n=typeof e;return!!(n=="number"?mt(r)&&Ot(e,r.length):n=="string"&&e in r)&&S(r[e],t)},xr=function(t){return Ue(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,c&&kr(r[0],r[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var u=r[n];u&&t(e,u,n,s)}return e})}(function(t,e,r){zr(t,e,r)});var yt=function(){return yt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yt.apply(this,arguments)};function Br(t){return t.toLowerCase()}var bt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],qe=/[^A-Z0-9]+/gi;function tr(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,i){return n.replace(i,r)},t)}function Cr(t,e){return e===void 0&&(e={}),function(r,n){n===void 0&&(n={});for(var i=n.splitRegexp,s=i===void 0?bt:i,c=n.stripRegexp,u=c===void 0?qe:c,h=n.transform,A=h===void 0?Br:h,E=n.delimiter,T=E===void 0?" ":E,U=tr(tr(r,s,"$1\0$2"),u,"\0"),G=0,$=U.length;U.charAt(G)==="\0";)G++;for(;U.charAt($-1)==="\0";)$--;return U.slice(G,$).split("\0").map(A).join(T)}(t,yt({delimiter:"."},e))}var rr=V(729),vt=V.n(rr);function nr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const o=navigator.platform.toLowerCase()==="win32"?q.win32:q.posix,k=function(t,e){return e===void 0&&(e={}),Cr(t,yt({delimiter:"_"},e))},w=xr;class ee extends vt(){constructor(e,r){super(),nr(this,"_tag",void 0),nr(this,"_opts",void 0),nr(this,"_logs",[]),this._tag=e,this._opts=r}write(e,r,n){var i;r!=null&&r.length&&r[r.length-1]===!0&&(n=!0,r.pop());const s=r.reduce((u,h)=>(h&&h instanceof Error?u+=`${h.message} ${h.stack}`:u+=h.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var c;this._logs.push([e,s]),(n||(i=this._opts)!==null&&i!==void 0&&i.console)&&((c=console)===null||c===void 0||c[e==="ERROR"?"error":"debug"](`${e}: ${s}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function le(t,...e){try{const r=new URL(t);if(!r.origin)throw new Error(null);const n=o.join(t.substr(r.origin.length),...e);return r.origin+n}catch{return o.join(t,...e)}}function ye(t,e){let r,n,i=!1;const s=u=>h=>{t&&clearTimeout(t),u(h),i=!0},c=new Promise((u,h)=>{r=s(u),n=s(h),t&&(t=setTimeout(()=>n(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:r,reject:n,promise:c,get settled(){return i}}}const be=new Map;window.__injectedUIEffects=be;var wt=V(227),ze=V.n(wt);function Q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const tt="application/x-postmate-v1+json";let sn=0;const Yn={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Wr=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===tt&&!!Yn[t.data.postmate];class Xn{constructor(e){Q(this,"parent",void 0),Q(this,"frame",void 0),Q(this,"child",void 0),Q(this,"events",{}),Q(this,"childOrigin",void 0),Q(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=r=>{if(!Wr(r,this.childOrigin))return!1;const{data:n,name:i}=((r||{}).data||{}).value||{};r.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(s=>{s.call(this,n)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...r){return new Promise(n=>{const i=++sn,s=c=>{c.data.uid===i&&c.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),n(c.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:tt,property:e,args:r,uid:i},this.childOrigin)})}call(e,r){this.child.postMessage({postmate:"call",type:tt,property:e,data:r},this.childOrigin)}on(e,r){this.events[e]||(this.events[e]=[]),this.events[e].push(r)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class eo{constructor(e){Q(this,"model",void 0),Q(this,"parent",void 0),Q(this,"parentOrigin",void 0),Q(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",r=>{if(!Wr(r,this.parentOrigin))return;const{property:n,uid:i,data:s,args:c}=r.data;r.data.postmate!=="call"?((u,h,A)=>{const E=typeof u[h]=="function"?u[h].apply(null,A):u[h];return Promise.resolve(E)})(this.model,n,c).then(u=>{r.source.postMessage({property:n,postmate:"reply",type:tt,uid:i,value:u},r.origin)}):n in this.model&&typeof this.model[n]=="function"&&this.model[n](s)})}emit(e,r){this.parent.postMessage({postmate:"emit",type:tt,value:{name:e,data:r}},this.parentOrigin)}}class Gr{constructor(e){Q(this,"container",void 0),Q(this,"parent",void 0),Q(this,"frame",void 0),Q(this,"child",void 0),Q(this,"childOrigin",void 0),Q(this,"url",void 0),Q(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const r=(s=>{const c=document.createElement("a");c.href=s;const u=c.protocol.length>4?c.protocol:window.location.protocol,h=c.host.length?c.port==="80"||c.port==="443"?c.hostname:c.host:window.location.host;return c.origin||`${u}//${h}`})(e=e||this.url);let n,i=0;return new Promise((s,c)=>{const u=A=>!!Wr(A,r)&&(A.data.postmate==="handshake-reply"?(clearInterval(n),this.parent.removeEventListener("message",u,!1),this.childOrigin=A.origin,s(new Xn(this))):c("Failed handshake"));this.parent.addEventListener("message",u,!1);const h=()=>{i++,this.child.postMessage({postmate:"handshake",type:tt,model:this.model},r),i===5&&clearInterval(n)};this.frame.addEventListener("load",()=>{h(),n=setInterval(h,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Q(Gr,"debug",!1),Q(Gr,"Model",void 0);class to{constructor(e){Q(this,"child",void 0),Q(this,"model",void 0),Q(this,"parent",void 0),Q(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,r)=>{const n=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",n,!1),i.source.postMessage({postmate:"handshake-reply",type:tt},i.origin),this.parentOrigin=i.origin;const s=i.data.model;return s&&Object.keys(s).forEach(c=>{this.model[c]=s[c]}),e(new eo(this))}return r("Handshake Reply Failed")}};this.child.addEventListener("message",n,!1)})}}function or(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const{importHTML:ro,createSandboxContainer:no}=window.QSandbox||{};function oo(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(r,n)=>{try{const i=await window.apis.doAction(["readFile",t]);r({text:()=>i})}catch(i){console.error(i),n(i)}}))}class io extends vt(){constructor(e){super(),or(this,"_pluginLocal",void 0),or(this,"_frame",void 0),or(this,"_root",void 0),or(this,"_loaded",!1),or(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:r}=this._pluginLocal.options;if(this.loaded||!r)return;const{template:n,execScripts:i}=await ro(r,{fetch:oo});this._mount(n,document.body);const s=no(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;s.__shadow_mode__=!0,s.LSPluginLocal=this._pluginLocal,s.LSPluginShadow=this,s.LSPluginUser=s.logseq=new nn(this._pluginLocal.toJSON(),this._pluginLocal.caller);const c=await i(s,!0);this._unmountFns.push(c.unmount),this._loaded=!0}_mount(e,r){const n=this._frame=document.createElement("div");n.classList.add("lsp-shadow-sandbox"),n.id=this._pluginLocal.id,this._root=n.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,r.appendChild(n),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,r;(e=this.frame)===null||e===void 0||(r=e.parentNode)===null||r===void 0||r.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ve(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ut=ze()("LSPlugin:caller"),ir="#await#response#",ao="#lspmsg#",ln="#lspmsg#error#",Sr=t=>`#lspmsg#${t}`;class so extends vt(){constructor(e){super(),Ve(this,"_pluginLocal",void 0),Ve(this,"_connected",!1),Ve(this,"_parent",void 0),Ve(this,"_child",void 0),Ve(this,"_shadow",void 0),Ve(this,"_status",void 0),Ve(this,"_userModel",{}),Ve(this,"_call",void 0),Ve(this,"_callUserModel",void 0),Ve(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const r=this,n=this._pluginLocal!=null;let i=0;const s=new Map,c=ye(6e4),u=this._extendUserModel({"#lspmsg#ready#":async E=>{u[Sr(E?.pid)]=({type:T,payload:U})=>{ut(`[host (_call) -> *user] ${this._debugTag}`,T,U),r.emit(T,U)},await c.resolve()},"#lspmsg#beforeunload#":async E=>{const T=ye(1e4);r.emit("beforeunload",Object.assign({actor:T},E)),await T.promise},"#lspmsg#settings#":async({type:E,payload:T})=>{r.emit("settings:changed",T)},[ao]:async({ns:E,type:T,payload:U})=>{ut(`[host (async) -> *user] ${this._debugTag} ns=${E} type=${T}`,U),E&&E.startsWith("hook")?r.emit(`${E}:${T}`,U):r.emit(T,U)},"#lspmsg#reply#":({_sync:E,result:T})=>{if(ut(`[sync host -> *user] #${E}`,T),s.has(E)){const U=s.get(E);U&&(T!=null&&T.hasOwnProperty(ln)?U.reject(T[ln]):U.resolve(T),s.delete(E))}},...e});var h;if(n)return await c.promise,JSON.parse(JSON.stringify((h=this._pluginLocal)===null||h===void 0?void 0:h.toJSON()));const A=new to(u).sendHandshakeReply();return this._status="pending",await A.then(E=>{this._child=E,this._connected=!0,this._call=async(T,U={},G)=>{if(G){const $=++i;s.set($,G),U._sync=$,G.setTag(`async call #${$}`),ut(`async call #${$}`)}return E.emit(Sr(u.baseInfo.id),{type:T,payload:U}),G?.promise},this._callUserModel=async(T,U)=>{try{u[T](U)}catch{ut(`[model method] #${T} not existed`)}},setInterval(()=>{if(s.size>100)for(const[T,U]of s)U.settled&&s.delete(T)},18e5)}).finally(()=>{this._status=void 0}),await c.promise,u.baseInfo}async call(e,r={}){var n;return(n=this._call)===null||n===void 0?void 0:n.call(this,e,r)}async callAsync(e,r={}){var n;const i=ye(1e4);return(n=this._call)===null||n===void 0?void 0:n.call(this,e,r,i)}async callUserModel(e,...r){var n;return(n=this._callUserModel)===null||n===void 0?void 0:n.apply(this,[e,...r])}async callUserModelAsync(e,...r){var n;return e=`${ir}${e}`,(n=this._callUserModel)===null||n===void 0?void 0:n.apply(this,[e,...r])}async _setupIframeSandbox(){const e=this._pluginLocal,r=e.id,n=`${r}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const s=document.querySelector(`#${n}`);s&&s.parentElement.removeChild(s);const c=document.createElement("div");c.classList.add("lsp-iframe-sandbox-container"),c.id=n,c.dataset.pid=r;try{var u;const T=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(T){c.dataset.inited_layout="true";let{width:U,height:G,left:$,top:te,vw:fe,vh:Ee}=T;$=Math.max($,0),$=typeof fe=="number"?`${Math.min(100*$/fe,99)}%`:`${$}px`,te=Math.max(te,45),te=typeof Ee=="number"?`${Math.min(100*te/Ee,99)}%`:`${te}px`,Object.assign(c.style,{width:U+"px",height:G+"px",left:$,top:te})}}catch(T){console.error("[Restore Layout Error]",T)}document.body.appendChild(c);const h=new Gr({id:r+"_iframe",container:c,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let A,E=h.sendHandshake();return this._status="pending",new Promise((T,U)=>{A=setTimeout(()=>{U(new Error("handshake Timeout")),h.destroy()},4e3),E.then(G=>{this._parent=G,this._connected=!0,this.emit("connected"),G.on(Sr(e.id),({type:$,payload:te})=>{var fe,Ee;ut("[user -> *host] ",$,te),(fe=this._pluginLocal)===null||fe===void 0||fe.emit($,te||{}),(Ee=this._pluginLocal)===null||Ee===void 0||Ee.caller.emit($,te||{})}),this._call=async(...$)=>{await G.call(Sr(e.id),{type:$[0],payload:Object.assign($[1]||{},{$$pid:e.id})})},this._callUserModel=async($,...te)=>{if($.startsWith(ir))return await G.get($.replace(ir,""),...te);G.call($,te?.[0])},T(null)}).catch(G=>{U(G)}).finally(()=>{clearTimeout(A)})}).catch(T=>{throw ut("[iframe sandbox] error",T),T}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,r=this._shadow=new io(e);try{this._status="pending",await r.load(),this._connected=!0,this.emit("connected"),this._call=async(n,i={},s)=>{var c;return s&&(i.actor=s),(c=this._pluginLocal)===null||c===void 0||c.emit(n,Object.assign(i,{$$pid:e.id})),s?.promise},this._callUserModel=async(...n)=>{var i;let s=n[0];(i=s)!==null&&i!==void 0&&i.startsWith(ir)&&(s=s.replace(ir,""));const c=n[1]||{},u=this._userModel[s];typeof u=="function"&&await u.call(null,c)}}catch(n){throw ut("[shadow sandbox] error",n),n}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let r=null;this._parent&&(r=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(r=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=r)===null||e===void 0||e.parentNode.removeChild(r)}}function cn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class un{constructor(e,r){cn(this,"ctx",void 0),cn(this,"opts",void 0),this.ctx=e,this.opts=r}get ctxId(){return this.ctx.baseInfo.id}setItem(e,r){var n;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,r,(n=this.opts)===null||n===void 0?void 0:n.assets]})}getItem(e){var r;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(r=this.opts)===null||r===void 0?void 0:r.assets]})}removeItem(e){var r;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(r=this.opts)===null||r===void 0?void 0:r.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var r;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(r=this.opts)===null||r===void 0?void 0:r.assets]})}}class lo{constructor(e){var r,n,i;i=void 0,(n="ctx")in(r=this)?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...r){var n,i;const s=this.ensureHostScope();return e=(n=k(e))===null||n===void 0?void 0:n.toLowerCase(),(i=s.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(s,r)}async loadScripts(...e){(e=e.map(r=>r!=null&&r.startsWith("http")?r:this.ctx.resolveResourceFullUrl(r))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,r){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,r)}registerExtensionsEnhancer(e,r){const n=this.ensureHostScope();return e==="katex"&&n.katex&&r(n.katex).catch(console.error),n.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,r)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function It(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const dn=t=>`task_callback_${t}`;class co{constructor(e,r,n={}){It(this,"_client",void 0),It(this,"_requestId",void 0),It(this,"_requestOptions",void 0),It(this,"_promise",void 0),It(this,"_aborted",!1),this._client=e,this._requestId=r,this._requestOptions=n,this._promise=new Promise((u,h)=>{if(!this._requestId)return h(null);this._client.once(dn(this._requestId),A=>{A&&A instanceof Error?h(A):u(A)})});const{success:i,fail:s,final:c}=this._requestOptions;this._promise.then(u=>{i?.(u)}).catch(u=>{s?.(u)}).finally(()=>{c?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Jr extends rr.EventEmitter{constructor(e){super(),It(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",r=>{const n=r?.requestId;n&&this.emit(dn(n),r?.payload)})}static createRequestTask(e,r,n){return new co(e,r,n)}async _request(e){const r=this.ctx.baseInfo.id,{success:n,fail:i,final:s,...c}=e,u=this.ctx.Experiments.invokeExperMethod("request",r,c),h=Jr.createRequestTask(this.ctx.Request,u,e);return c.abortable?h:h.promise}get ctx(){return this._ctx}}const uo=fr(Object.keys,Object);var fo=Object.prototype.hasOwnProperty;const po=function(t){if(!Rt(t))return uo(t);var e=[];for(var r in Object(t))fo.call(t,r)&&r!="constructor"&&e.push(r);return e},Qr=function(t){return mt(t)?jt(t):po(t)},ho=function(t,e){return t&&sr(t,e,Qr)},mo=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},go=function(t){return this.__data__.has(t)};function Or(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ne;++e<r;)this.add(t[e])}Or.prototype.add=Or.prototype.push=mo,Or.prototype.has=go;const yo=Or,bo=function(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},vo=function(t,e){return t.has(e)},fn=function(t,e,r,n,i,s){var c=1&r,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var A=s.get(t),E=s.get(e);if(A&&E)return A==e&&E==t;var T=-1,U=!0,G=2&r?new yo:void 0;for(s.set(t,e),s.set(e,t);++T<u;){var $=t[T],te=e[T];if(n)var fe=c?n(te,$,T,e,t,s):n($,te,T,t,e,s);if(fe!==void 0){if(fe)continue;U=!1;break}if(G){if(!bo(e,function(Ee,Ze){if(!vo(G,Ze)&&($===Ee||i($,Ee,r,n,s)))return G.push(Ze)})){U=!1;break}}else if($!==te&&!i($,te,r,n,s)){U=!1;break}}return s.delete(t),s.delete(e),U},wo=function(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r},_o=function(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r};var pn=l?l.prototype:void 0,Vr=pn?pn.valueOf:void 0;const ko=function(t,e,r,n,i,s,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new ot(t),new ot(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=wo;case"[object Set]":var h=1&n;if(u||(u=_o),t.size!=e.size&&!h)return!1;var A=c.get(t);if(A)return A==e;n|=2,c.set(t,e);var E=fn(u(t),u(e),n,i,s,c);return c.delete(t),E;case"[object Symbol]":if(Vr)return Vr.call(t)==Vr.call(e)}return!1},xo=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},Co=function(t,e,r){var n=e(t);return Ie(t)?n:xo(n,r(t))},So=function(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var c=t[r];e(c,r,t)&&(s[i++]=c)}return s},Oo=function(){return[]};var jo=Object.prototype.propertyIsEnumerable,hn=Object.getOwnPropertySymbols;const Ao=hn?function(t){return t==null?[]:(t=Object(t),So(hn(t),function(e){return jo.call(t,e)}))}:Oo,mn=function(t){return Co(t,Qr,Ao)};var Eo=Object.prototype.hasOwnProperty;const To=function(t,e,r,n,i,s){var c=1&r,u=mn(t),h=u.length;if(h!=mn(e).length&&!c)return!1;for(var A=h;A--;){var E=u[A];if(!(c?E in e:Eo.call(e,E)))return!1}var T=s.get(t),U=s.get(e);if(T&&U)return T==e&&U==t;var G=!0;s.set(t,e),s.set(e,t);for(var $=c;++A<h;){var te=t[E=u[A]],fe=e[E];if(n)var Ee=c?n(fe,te,E,e,t,s):n(te,fe,E,t,e,s);if(!(Ee===void 0?te===fe||i(te,fe,r,n,s):Ee)){G=!1;break}$||($=E=="constructor")}if(G&&!$){var Ze=t.constructor,Tr=e.constructor;Ze==Tr||!("constructor"in t)||!("constructor"in e)||typeof Ze=="function"&&Ze instanceof Ze&&typeof Tr=="function"&&Tr instanceof Tr||(G=!1)}return s.delete(t),s.delete(e),G},Zr=Oe(a,"DataView"),Kr=Oe(a,"Promise"),Yr=Oe(a,"Set"),Xr=Oe(a,"WeakMap");var gn="[object Map]",yn="[object Promise]",bn="[object Set]",vn="[object WeakMap]",wn="[object DataView]",Io=W(Zr),Lo=W(Te),Mo=W(Kr),Fo=W(Yr),No=W(Xr),_t=ue;(Zr&&_t(new Zr(new ArrayBuffer(1)))!=wn||Te&&_t(new Te)!=gn||Kr&&_t(Kr.resolve())!=yn||Yr&&_t(new Yr)!=bn||Xr&&_t(new Xr)!=vn)&&(_t=function(t){var e=ue(t),r=e=="[object Object]"?t.constructor:void 0,n=r?W(r):"";if(n)switch(n){case Io:return wn;case Lo:return gn;case Mo:return yn;case Fo:return bn;case No:return vn}return e});const _n=_t;var kn="[object Arguments]",xn="[object Array]",jr="[object Object]",Cn=Object.prototype.hasOwnProperty;const Po=function(t,e,r,n,i,s){var c=Ie(t),u=Ie(e),h=c?xn:_n(t),A=u?xn:_n(e),E=(h=h==kn?jr:h)==jr,T=(A=A==kn?jr:A)==jr,U=h==A;if(U&&ie(t)){if(!ie(e))return!1;c=!0,E=!1}if(U&&!E)return s||(s=new Ye),c||et(t)?fn(t,e,r,n,i,s):ko(t,e,h,r,n,i,s);if(!(1&r)){var G=E&&Cn.call(t,"__wrapped__"),$=T&&Cn.call(e,"__wrapped__");if(G||$){var te=G?t.value():t,fe=$?e.value():e;return s||(s=new Ye),i(te,fe,r,n,s)}}return!!U&&(s||(s=new Ye),To(t,e,r,n,i,s))},Sn=function t(e,r,n,i,s){return e===r||(e==null||r==null||!ge(e)&&!ge(r)?e!=e&&r!=r:Po(e,r,n,i,t,s))},Ro=function(t,e,r,n){var i=r.length,s=i,c=!n;if(t==null)return!s;for(t=Object(t);i--;){var u=r[i];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var h=(u=r[i])[0],A=t[h],E=u[1];if(c&&u[2]){if(A===void 0&&!(h in t))return!1}else{var T=new Ye;if(n)var U=n(A,E,h,t,e,T);if(!(U===void 0?Sn(E,A,3,n,T):U))return!1}}return!0},On=function(t){return t==t&&!Le(t)},Do=function(t){for(var e=Qr(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,On(i)]}return e},jn=function(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}},Uo=function(t){var e=Do(t);return e.length==1&&e[0][2]?jn(e[0][0],e[0][1]):function(r){return r===t||Ro(r,t,e)}},en=function(t){return typeof t=="symbol"||ge(t)&&ue(t)=="[object Symbol]"};var qo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zo=/^\w*$/;const tn=function(t,e){if(Ie(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!en(t))||zo.test(t)||!qo.test(t)||e!=null&&t in Object(e)};function rn(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var c=t.apply(this,n);return r.cache=s.set(i,c)||s,c};return r.cache=new(rn.Cache||Ne),r}rn.Cache=Ne;const $o=rn;var Ho=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bo=/\\(\\)?/g;const Wo=function(t){var e=$o(t,function(n){return r.size===500&&r.clear(),n}),r=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ho,function(r,n,i,s){e.push(i?s.replace(Bo,"$1"):n||r)}),e}),Go=function(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i};var An=l?l.prototype:void 0,En=An?An.toString:void 0;const Jo=function t(e){if(typeof e=="string")return e;if(Ie(e))return Go(e,t)+"";if(en(e))return En?En.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r},Qo=function(t){return t==null?"":Jo(t)},Tn=function(t,e){return Ie(t)?t:tn(t,e)?[t]:Wo(Qo(t))},Ar=function(t){if(typeof t=="string"||en(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},In=function(t,e){for(var r=0,n=(e=Tn(e,t)).length;t!=null&&r<n;)t=t[Ar(e[r++])];return r&&r==n?t:void 0},Vo=function(t,e,r){var n=t==null?void 0:In(t,e);return n===void 0?r:n},Zo=function(t,e){return t!=null&&e in Object(t)},Ko=function(t,e,r){for(var n=-1,i=(e=Tn(e,t)).length,s=!1;++n<i;){var c=Ar(e[n]);if(!(s=t!=null&&r(t,c)))break;t=t[c]}return s||++n!=i?s:!!(i=t==null?0:t.length)&&qt(i)&&Ot(c,i)&&(Ie(t)||Ct(t))},Yo=function(t,e){return t!=null&&Ko(t,e,Zo)},Xo=function(t,e){return tn(t)&&On(e)?jn(Ar(t),e):function(r){var n=Vo(r,t);return n===void 0&&n===e?Yo(r,t):Sn(e,n,3)}},ei=function(t){return function(e){return e?.[t]}},ti=function(t){return function(e){return In(e,t)}},ri=function(t){return tn(t)?ei(Ar(t)):ti(t)},ni=function(t){return typeof t=="function"?t:t==null?Et:typeof t=="object"?Ie(t)?Xo(t[0],t[1]):Uo(t):ri(t)},oi=function(t,e){var r={};return e=ni(e),ho(t,function(n,i,s){xt(r,e(n,i,s),n)}),r};function Ln(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class ii{constructor(e,r){Ln(this,"ctx",void 0),Ln(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=r,e._execCallableAPI("register-search-service",e.baseInfo.id,r.name,r.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:n=>(Ie(n?.blocks)&&(n.blocks=n.blocks.map(i=>i&&oi(i,(s,c)=>`block/${c}`))),n)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([n,i])=>{const s=(c=>`service:search:${c}:${r.name}`)(n);e.caller.on(s,async c=>{if(d(r?.[i.f])){let u=null;try{u=await r[i.f].apply(r,(i.args||[]).map(h=>{if(c){if(h===!0)return c;if(c.hasOwnProperty(h)){const A=c[h];return delete c[h],A}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(h){console.error("[SearchService] ",h),u=h}finally{i.reply&&e.caller.call(`${s}:reply`,u)}}})})}}function $e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ai=Symbol.for("proxy-continue"),si=ze()("LSPlugin:user"),Mn=new ee("",{console:!0});function Lt(t,e,r){var n;if(typeof r!="function")return!1;const{key:i,label:s,desc:c,palette:u,keybinding:h,extras:A}=e,E=`SimpleCommandHook${i}${++Pn}`;this.Editor["on"+E](r),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:s,type:t,desc:c,keybinding:h,extras:A},["editor/hook",E]],u]})}function Fn(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Mn.error(`#${t} is not a valid UUID string.`),!1);var e}let Er=null,Nn=new Map;const li={async getInfo(t){return Er||(Er=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?Er[t]:Er},registerCommand:Lt,registerSearchService(t){if(Nn.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Nn.set(t.name,new ii(this,t))},registerCommandPalette(t,e){const{key:r,label:n,keybinding:i}=t;return Lt.call(this,"$palette$",{key:r,label:n,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:r}=t,n="$shortcut$",i=n+k(r);return Lt.call(this,n,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var r;const n=this.baseInfo.id;(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-ui-item",args:[n,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id,n=t;Lt.call(this,"page-menu-item",{key:r,label:n},e)},onBlockRendererSlotted(t,e){if(!Fn(t))return;const r=this.baseInfo.id,n=`hook:editor:${k(`slot:${t}`)}`;return this.caller.on(n,e),this.App._installPluginHook(r,n),()=>{this.caller.off(n,e),this.App._uninstallPluginHook(r,n)}},invokeExternalPlugin(t,...e){var r;if(!(t=(r=t)===null||r===void 0?void 0:r.trim()))return;let[n,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const s=t.replace(`${n}.${i}.`,"");if(!n||!i||!s)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",n,i.toLowerCase(),s,e)},setFullScreen(t){const e=(...r)=>this._callWin("setFullScreen",...r);t==="toggle"?this._callWin("isFullScreen").then(r=>{r?e():e(!0)}):t?e(!0):e()}};let Pn=0;const ci={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var r;si("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(n=>{const[i,...s]=n;if(i==="editor/hook"){let c=s[0],u=()=>{var A;(A=this.caller)===null||A===void 0||A.callUserModel(c)};typeof c=="function"&&(u=c);const h=`SlashCommandHook${i}${++Pn}`;n[1]=h,this.Editor["on"+h](u)}return n}),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;Lt.call(this,"block-context-menu-item",{key:r,label:t},e)},registerHighlightContextMenuItem(t,e,r){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Lt.call(this,"highlight-context-menu-item",{key:n,label:t,extras:r},e)},scrollToBlockInPage(t,e,r){const n="block-content-"+e;r!=null&&r.replaceState?this.App.replaceState("page",{name:t},{anchor:n}):this.App.pushState("page",{name:t},{anchor:n})}},ui={onBlockChanged(t,e){if(!Fn(t))return;const r=this.baseInfo.id,n=`hook:db:${k(`block:${t}`)}`,i=({block:s,txData:c,txMeta:u})=>{s.uuid===t&&e(s,c,u)};return this.caller.on(n,i),this.App._installPluginHook(r,n),()=>{this.caller.off(n,i),this.App._uninstallPluginHook(r,n)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(r=>typeof r=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},di={},fi={},pi={makeSandboxStorage(){return new un(this,{assets:!0})}};class nn extends vt(){constructor(e,r){super(),$e(this,"_baseInfo",void 0),$e(this,"_caller",void 0),$e(this,"_version","0.0.14"),$e(this,"_debugTag",""),$e(this,"_settingsSchema",void 0),$e(this,"_connected",!1),$e(this,"_ui",new Map),$e(this,"_mFileStorage",void 0),$e(this,"_mRequest",void 0),$e(this,"_mExperiments",void 0),$e(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=r,r.on("sys:ui:visible",n=>{n!=null&&n.toggle&&this.toggleMainUI()}),r.on("settings:changed",n=>{const i=Object.assign({},this.settings),s=Object.assign(this._baseInfo.settings,n);this.emit("settings:changed",{...s},i)}),r.on("beforeunload",async n=>{const{actor:i,...s}=n,c=this._beforeunloadCallback;try{c&&await c(s),i?.resolve(null)}catch(u){console.debug(`${r.debugTag} [beforeunload] `,u),i?.reject(u)}})}async ready(e,r){if(!this._connected)try{var n;typeof e=="function"&&(r=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=w(this._baseInfo,i),(n=i)!==null&&n!==void 0&&n.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(s,c){const u=(c||[]).reduce((h,A)=>("default"in A&&(h[A.key]=A.default),h),{});return Object.assign(u,s)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}r&&r.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const r="settings:changed";return this.on(r,e),()=>this.off(r,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const r={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",r),this.emit("ui:visible:changed",r),this._ui.set(r.key,r)}showMainUI(e){const r={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",r),this.emit("ui:visible:changed",r),this._ui.set(r.key,r)}toggleMainUI(){const r=this._ui.get(0);r&&r.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((r=e.baseInfo)===null||r===void 0?void 0:r.effect)||!((n=e.baseInfo)!==null&&n!==void 0&&n.iir));var e,r,n}get logger(){return Mn}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),le(this._baseInfo.lsr,e)}_makeUserProxy(e,r){const n=this,i=this.caller;return new Proxy(e,{get(s,c,u){const h=s[c];return function(...A){if(h){const T=h.apply(n,A.concat(r));if(T!==ai)return T}if(r){const T=c.toString().match(/^(once|off|on)/i);if(T!=null){const U=T[0].toLowerCase(),G=T.input.slice(U.length),$=U==="off",te=n.baseInfo.id,fe=`hook:${r}:${k(G)}`,Ee=A[0];i[U](fe,Ee);const Ze=()=>{i.off(fe,Ee),i.listenerCount(fe)||n.App._uninstallPluginHook(te,fe)};return $?void Ze():(n.App._installPluginHook(te,fe),Ze)}}let E=c;return["git","ui","assets"].includes(r)&&(E=r+"_"+E),i.callAsync("api:call",{tag:r,method:E,args:A})}}})}_execCallableAPIAsync(e,...r){return this._caller.callAsync("api:call",{method:e,args:r})}_execCallableAPI(e,...r){this._caller.call("api:call",{method:e,args:r})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(li,"app")}get Editor(){return this._makeUserProxy(ci,"editor")}get DB(){return this._makeUserProxy(ui,"db")}get Git(){return this._makeUserProxy(di,"git")}get UI(){return this._makeUserProxy(fi,"ui")}get Assets(){return this._makeUserProxy(pi,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new un(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Jr(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new lo(this)),e}}function Rn(t,e){return new nn(t,e)}if(window.__LSP__HOST__==null){const t=new so(null);window.logseq=Rn({},t)}})(),je})())})(hi,on);const mi={title:"Awesome Content",icon:"./icon.png",id:"logseq-awesome-content"},Re=parent.document,Dn=Re.documentElement,an=Re.body,ve={pluginID:mi.id,pluginConfig:null,isPluginEnabled:"is-awCo-enabled"},gi="1.2.1",yi=(re,ce)=>Object.keys(re).filter(Fe=>Fe==="presetCustom"?!1:re[Fe]!==ce[Fe]),bi=async()=>{const re=await fetch(`https://api.github.com/repos/yoyurec/${ve.pluginID}/releases/latest`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!re.ok){const we=`An error has occurred: ${re.status}`;throw new Error(we)}const ce=await re.json();ce&&ce.tag_name.replace("v","").localeCompare(gi,void 0,{numeric:!0,sensitivity:"base"})==1&&logseq.UI.showMsg(`"${ve.pluginID}" new version is available! Please, update!`,"warning",{timeout:3e4})},vi=`[data-refs-self*=".kanban"]>.block-children-container>.block-children{display:inline-flex;margin:0 10px;border:0;overflow-x:auto}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block{display:inline-block;padding:0;width:inherit;min-width:200px;margin-right:10px;border-radius:4px;background-color:var(--ls-secondary-background-color);border:1px solid var(--ls-border-color)}[data-refs-self*=".kanban-300"]>.block-children-container>.block-children>.ls-block{min-width:300px}[data-refs-self*=".kanban-400"]>.block-children-container>.block-children>.ls-block{min-width:400px}[data-refs-self*=".kanban-500"]>.block-children-container>.block-children>.ls-block{min-width:500px}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row{background-color:var(--ls-tertiary-background-color);border-bottom:1px solid var(--ls-border-color);padding:4px 6px}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row>.block-content-wrapper{width:100%}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row>.block-content-wrapper>.flex{overflow:hidden}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row .inline,[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row .inline .page-ref{font-weight:500}[data-refs-self*=".kanban"] .todo-master-progress-bar{max-width:90%}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.block-children-container{margin:0!important}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block:before{display:none}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block:last-child{margin-bottom:0}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row>.mr-1{display:none}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.block-children-container>.block-children{padding:10px 0;border:0}[data-refs-self*=kanban]>.flex>.block-content-wrapper:before,[data-refs-self*=kanban]>.block-children-container>.block-children>.ls-block>.flex>.block-content-wrapper:before,[data-refs-self*=kanban]>.block-children-container>.block-children>.ls-block>.block-children-container>.block-children>.ls-block:before,[data-refs-self*=kanban]>.block-children-container>.block-children>.ls-block>.block-children-container>.block-children>.ls-block>.flex>.mr-1:before{display:none!important}[data-refs-self*=".grid"]>.block-children-container>.block-children{display:inline-flex;position:relative;margin:0 10px;border:0}[data-refs-self*=".grid"]>.block-children-container>.block-children>.ls-block{padding:0}[data-refs-self*=".grid"] .block-children-container .mr-1.flex{display:none}[data-refs-self*=".grid"] .pr-2{padding:0}
`,Un=()=>{ve.pluginConfig.contentColumns?wi():qn()},wi=async()=>{logseq.provideStyle({key:"awCo-columns-css",style:vi})},qn=()=>{Re.head.querySelector('style[data-injected-style^="awCo-columns-css"]')?.remove()},_i=`.cards-review .ui__dropdown-trigger{z-index:11!important}.ls-block[data-refs-self*='"card"']{--ls-guideline-color: transparent;position:relative;margin:-2px 0 8px 4px;padding:12px 28px 12px 0;border:1px solid var(--ls-border-color);border-left-width:4px;box-shadow:none}.ls-block[data-refs-self*='"card"']:not(.pre-block):before,.ls-block[data-refs-self*='"card"']>div{margin-left:-8px}.ls-block[data-refs-self*='"card"']>.flex.flex-row:before{position:absolute;top:0;right:8px;content:"\\ea38";font-family:tabler-icons;font-size:20px;opacity:.5}
`,ki=`.cards-review .ui__dropdown-trigger{z-index:11!important}div[data-refs-self*='"card"']{padding:0!important;border:none!important;background:none!important;box-shadow:none!important;--webkit-box-shadow: none!important}
`,zn=()=>{ve.pluginConfig.contentFlashcards!="Default"?xi():$n()},xi=()=>{let re="";switch(ve.pluginConfig.contentFlashcards){case"Awesome":re=_i;break;case"Flat":re=ki;break}logseq.provideStyle({key:"awCo-flashcard-css",style:re})},$n=()=>{Re.head.querySelector('style[data-injected-style^="awCo-flashcard-css"]')?.remove()},Ci=`.ls-block :is(h1,h2,h3,h4,h5):after{display:var(--headers-labels, inline-block);margin-left:4px;padding:2px 4px;border-radius:2px;font-size:11px;vertical-align:baseline;color:var(--ls-primary-text-color);font-family:var(--awCo-code-font);opacity:.3;transition:opacity .3s}.ls-block :is(h1,h2,h3,h4,h5):hover:after{opacity:.5}.ls-block h1:after{content:"h1"}.ls-block h2:after{content:"h2"}.ls-block h3:after{content:"h3"}.ls-block h4:after{content:"h4"}.ls-block h5:after{content:"h5"}.block-ref :is(h1,h2,h3,h4,h5){border-bottom:none;font-size:1em}.block-ref :is(h1,h2,h3,h4,h5):after{display:none}
`,Hn=()=>{ve.pluginConfig.contentHeadersLabels?Si():Bn()},Si=()=>{logseq.provideStyle({key:"awCo-headersLabels-css",style:Ci})},Bn=()=>{Re.head.querySelector('style[data-injected-style^="awCo-headersLabels-css"]')?.remove()},Oi=`blockquote,.ls-block[data-refs-self*='"quote"']:not(.pre-block){--ls-guideline-color: transparent;position:relative;margin:-2px 0 8px 4px;padding:12px 28px 12px 0;border-left-width:4px;border-left:4px solid var(--ls-page-blockquote-border-color);border-radius:4px;color:var(--ls-page-blockquote-color);background-color:var(--ls-page-blockquote-bg-color)}.ls-block[data-refs-self*='"quote"']:not(.pre-block):before,.ls-block[data-refs-self*='"quote"']>div{margin-left:-8px}blockquote:before,.ls-block[data-refs-self*='"quote"']:not(.pre-block)>.flex.flex-row:before{position:absolute;top:1px;right:7px;content:"\\ee09";font-family:tabler-icons;font-size:20px;opacity:.5}blockquote{position:relative;padding:8px 30px 8px 20px}.ls-block[data-refs-self*='"quote"'].selected{background-color:var(--ls-block-highlight-color)}
`,Wn=()=>{ve.pluginConfig.contentQuotes?ji():Gn()},ji=()=>{logseq.provideStyle({key:"awCo-quote-css",style:Oi})},Gn=()=>{Re.head.querySelector('style[data-injected-style^="awCo-quote-css"]')?.remove()},Ai=`:root{--awCo-red: #d3455b;--awCo-orange: #f09000;--awCo-yellow-dark: #e6af19;--awCo-yellow: #f9d86c;--awCo-green: #27ae9e;--awCo-blue: #2c89d9;--awCo-purple: #9c739c;--awCo-cherry: #c8896a;--awCo-marker-waiting: var(--awCo-marker-waiting-user, var(--awCo-cherry));--awCo-marker-later: var(--awCo-marker-later-user, var(--awCo-orange));--awCo-marker-todo: var(--awCo-marker-todo-user, var(--awCo-red));--awCo-marker-now-doing: var(--awCo-marker-now-doing-user, var(--awCo-blue));--awCo-marker-done: var(--awCo-marker-done-user, var(--awCo-green));--awCo-priority-a: var(--awCo-priority-a-user, var(--awCo-red));--awCo-priority-b: var(--awCo-priority-b-user, var(--awCo-orange));--awCo-priority-c: var(--awCo-priority-c-user, var(--awCo-green))}.block-marker.block-marker.block-marker,.done:before{position:relative;top:-1px;display:inline-block;margin:0 .6em 0 0!important;padding:2px 3px 1px;font-family:Inter;font-size:70%!important;font-weight:600;line-height:1;border-radius:4px;border:1px solid currentColor;background:var(--ls-primary-background-color)}.content .form-checkbox{position:relative;top:-1px;margin-right:.2em!important;width:1.1rem!important;height:1.1rem!important;border-radius:5px;border:2px solid var(--ls-primary-background-color)!important}.content .form-checkbox:hover{opacity:.6!important;transform:none!important}.content .done:before{content:"DONE";margin:0 .4em 0 1.9em!important;color:var(--awCo-marker-done);border:1px solid var(--awCo-marker-done);text-decoration:line-through}.block-ref{position:relative}.content .done .form-checkbox{position:absolute;margin-left:-4.1em;top:5px;background-color:var(--awCo-marker-done)!important;opacity:.7;transform:none;background-origin:content-box}.content .done .form-checkbox:checked:hover{opacity:1!important;border:1px solid var(--ls-primary-background-color)}.now .block-marker.block-marker,.doing .block-marker.block-marker{color:var(--awCo-marker-now-doing)!important}.content .now .form-checkbox,.content .doing .form-checkbox{background-color:var(--awCo-marker-now-doing)!important;opacity:.4}.later .block-marker.block-marker{color:var(--awCo-marker-later)!important}.content .later .form-checkbox{background-color:var(--awCo-marker-later)!important;opacity:.4}.todo .block-marker.block-marker{color:var(--awCo-marker-todo)!important}.content .todo .form-checkbox{background-color:var(--awCo-marker-todo)!important;opacity:.4}.waiting .block-marker{color:var(--awCo-marker-waiting)!important}.waiting .block-marker:hover{opacity:1!important}.content .waiting .form-checkbox{background-color:var(--awCo-marker-waiting)!important;opacity:.4}.priority{font-size:0;visibility:hidden}a[priority]:before,.priority:before{position:relative;top:-.7ex;content:""!important;display:inline-block;visibility:visible;margin:-.5ex 0 -.6ex -.2em;height:1.3rem;width:1.3rem;border-radius:100%;font-size:.9rem!important;vertical-align:middle!important;-webkit-mask:var(--awCo-priority-bg) no-repeat 50% 50%;mask:var(--awCo-priority-bg) no-repeat 50% 50%}a[priority=A]:before,.priority[href="#/page/A"]:before{--awCo-priority-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24'%3e%3cpath stroke='none' d='M0 0h24v24H0z'/%3e%3cpath d='M3 12a9 9 0 1 0 18 0 9 9 0 1 0-18 0M12 8l-4 4M12 8v8M16 12l-4-4'/%3e%3c/svg%3e");background-color:var(--awCo-priority-a)}a[priority=B]:before,.priority[href="#/page/B"]:before{background-color:var(--awCo-priority-b);--awCo-priority-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24'%3e%3cpath stroke='none' d='M0 0h24v24H0z'/%3e%3cpath d='M11 12a1 1 0 1 0 2 0 1 1 0 1 0-2 0'/%3e%3cpath d='M3 12a9 9 0 1 0 18 0 9 9 0 1 0-18 0'/%3e%3c/svg%3e")}a[priority=C]:before,.priority[href="#/page/C"]:before{background-color:var(--awCo-priority-c);--awCo-priority-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24'%3e%3cpath stroke='none' d='M0 0h24v24H0z'/%3e%3cpath d='M3 12a9 9 0 1 0 18 0 9 9 0 1 0-18 0M8 12l4 4M12 8v8M16 12l-4 4'/%3e%3c/svg%3e")}a.tooltip-priority{transition:none}.block-marker:is(.TODO,.DOING,.NOW,.WAIT,.waiting,.LATER):before{display:none}
`,Jn=()=>{ve.pluginConfig.contentTasks?Ei():Qn()},Ei=async()=>{logseq.provideStyle({key:"awCo-tasks-css",style:Ai})},Qn=()=>{an.classList.remove("awCo-tasks"),Re.head.querySelector('style[data-injected-style^="awCo-tasks-css"]')?.remove()},Ti=`.mermaid svg{border:2px dotted var(--ls-border-color)}.mermaid svg[aria-roledescription=gantt] .task,.mermaid .labelBox,.mermaid .label,.mermaid .actor,.mermaid .node rect,.mermaid .node circle,.mermaid .node ellipse,.mermaid .node polygon,.mermaid .node path{stroke:var(--ls-primary-text-color)!important;fill:var(--ls-secondary-background-color)!important;color:var(--ls-primary-text-color)!important}.mermaid .divider,.mermaid .task,.mermaid .journey-section,.mermaid rect,.mermaid circle,.mermaid ellipse,.mermaid polygon,.mermaid path{stroke:var(--ls-primary-text-color)!important}.journey-section.section-type-0,.task.task-type-0{fill:var(--ls-secondary-background-color)!important}.journey-section.section-type-1,.task.task-type-1{fill:var(--ls-tertiary-background-color)!important}.journey-section.section-type-2,.task.task-type-2{fill:var(--ls-quaternary-background-color)!important}.journey-section.section-type-3,.task.task-type-3{fill:var(--color-level-4)!important}.journey-section.section-type-4,.task.task-type-4{fill:var(--color-level-5)!important}.mermaid .edgeLabel{background-color:var(--ls-border-color)!important;border-radius:4px;color:var(--ls-secondary-text-color)!important}.mermaid span.edgeLabel:not(:empty){padding:2px 6px!important}.mermaid .taskText,.mermaid span{color:var(--ls-primary-text-color)!important}.mermaid text,.mermaid text>tspan{fill:var(--ls-primary-text-color)!important}.mermaid text.messageText{fill:var(--ls-secondary-text-color)!important}.mermaid line{stroke:var(--ls-primary-text-color)!important}.mermaid g line{stroke:var(--ls-guideline-color)!important}.mermaid marker path{stroke:var(--ls-primary-text-color)!important;fill:var(--ls-primary-text-color)!important}.mermaid .note{stroke:var(--ls-guideline-color)!important;fill:var(--ls-page-mark-bg-color)!important}.mermaid .note text>tspan{fill:var(--ls-page-mark-bg-color)!important}.mermaid [class^=activation]{stroke:var(--ls-primary-text-color)!important;fill:var(--ls-guideline-color)!important}
`,Vn=()=>{ve.pluginConfig.contentMermaid?Ii():Zn()},Ii=()=>{logseq.provideStyle({key:"awCo-mermaid-css",style:Ti})},Zn=()=>{Re.head.querySelector('style[data-injected-style^="awCo-mermaid-css"]')?.remove()},Li=`#today-queries{--awCo-today-queries-gap: 10px;display:flow-root;margin-bottom:16px}#today-queries>.lazy-visibility{float:left;width:calc((100% - (var(--awCo-today-queries-colums, 2) - 1) * var(--awCo-today-queries-gap, 10px)) / var(--awCo-today-queries-colums, 2));min-height:unset!important}#today-queries>.lazy-visibility+.lazy-visibility{margin-left:var(--awCo-today-queries-gap)}#today-queries .custom-query{position:relative}#today-queries .custom-query>.flex>.content>.foldable-title>.flex>.block-control{right:0;position:absolute}#today-queries .custom-query>.flex>.content>.foldable-title>.flex>.block-control .rotating-arrow.not-collapsed svg{transform:rotate(90deg)}#today-queries .custom-query>.flex>.content>.foldable-title>.flex>.block-control .rotating-arrow.collapsed svg{transform:rotate(270deg)}
`,Kn=()=>{ve.pluginConfig.todayQueriesColumns>1?Mi():Fi()},Mi=async()=>{Dn.style.setProperty("--awCo-today-queries-colums",`${ve.pluginConfig.todayQueriesColumns}`),logseq.provideStyle({key:"awCo-today-queries-css",style:Li})},Fi=()=>{Dn.style.setProperty("--awCo-today-queries-colums",""),Re.head.querySelector('style[data-injected-style^="awCo-today-queries-css"]')?.remove()},Ni=()=>{an.classList.add(ve.isPluginEnabled),Ri(),Ui(),setTimeout(()=>{logseq.beforeunload(async()=>{Pi()})},2e3),ve.pluginConfig.pluginUpdateNotify&&setTimeout(()=>{bi()},8e3)},Pi=()=>{an.classList.remove(ve.isPluginEnabled),Di(),qi()},Ri=async()=>{setTimeout(()=>{Re.head&&Re.head.insertAdjacentHTML("beforeend",`<link rel="stylesheet" id="css-awesomeContent" href="lsp://logseq.io/${ve.pluginID}/dist/assets/awesomeContent.css">`)},100)},Di=()=>{Re.getElementById("css-awesomeContent")?.remove()},Ui=async()=>{setTimeout(()=>{Jn(),Hn(),Un(),Kn(),Wn(),zn(),Vn()},2e3)},qi=()=>{Qn(),Bn(),qn(),Gn(),$n(),Zn()},zi=[{key:"contentHeading",title:"Content",description:"",type:"heading",default:null},{key:"contentTasks",title:"",description:"Enable tasks status and priority restyling?",type:"boolean",default:!0},{key:"todayQueriesColumns",title:"",description:"Show today queries (Journals) in columns:",type:"string",default:"1"},{key:"contentColumns",title:"",description:'Enable columns (use "#.kanban" & "#.grid" tags) in content?',type:"boolean",default:!0},{key:"contentQuotes",title:"",description:'Enable blockquote style for "#quote" tag?',type:"boolean",default:!0},{key:"contentFlashcards",title:"",description:'Flashcard style for "#card" tag?',type:"enum",enumPicker:"radio",enumChoices:["Default","Awesome","Flat"],default:"Awesome"},{key:"contentHeadersLabels",title:"",description:"Show headers (h1-h5) labels?",type:"boolean",default:!0},{key:"contentMermaid",title:"",description:"Apply theme styles to Mermaid diagrams? (use plugin https://github.com/xyhp915/logseq-fenced-code-plus)",type:"boolean",default:!0},{key:"otherHeading",title:"Other",description:"",type:"heading",default:null},{key:"pluginUpdateNotify",title:"",description:"Enable new version notifier on app load?",type:"boolean",default:!0}];const $i=()=>{logseq.useSettingsSchema(zi),ve.pluginConfig=logseq.settings,logseq.onSettingsChanged((re,ce)=>{Hi(re,ce)})},Hi=(re,ce)=>{ve.pluginConfig={...re};const we=yi({...ce},ve.pluginConfig);we.length&&(we.includes("contentTasks")&&Jn(),we.includes("contentColumns")&&Un(),we.includes("contentQuotes")&&Wn(),we.includes("contentFlashcards")&&zn(),we.includes("contentHeadersLabels")&&Hn(),we.includes("contentMermaid")&&Vn(),we.includes("todayQueriesColumns")&&Kn())};const Bi=async()=>{console.log("AwesomeContent: plugin loaded"),$i(),Ni()};logseq.ready(Bi).catch(null);
//# sourceMappingURL=awesomeContent.js.map
